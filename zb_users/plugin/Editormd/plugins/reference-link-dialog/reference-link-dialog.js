(function(){var e=function(e){var t="reference-link-dialog",a=1;e.fn.referenceLinkDialog=function(){var e,i=this.cm,l=this.lang,n=this.editor,r=this.settings,d=i.getCursor(),o=i.getSelection(),c=l.dialog.referenceLink,u=this.classPrefix,s=u+t;if(i.focus(),n.find("."+s).length<1){var f='<div class="'+u+'form"><label>'+c.name+'</label><input type="text" value="['+a+']" data-name /><br/><label>'+c.urlId+'</label><input type="text" data-url-id /><br/><label>'+c.url+'</label><input type="text" value="http://" data-url /><br/><label>'+c.urlTitle+'</label><input type="text" value="'+o+'" data-title /><br/></div>';e=this.createDialog({name:s,title:c.title,width:380,height:296,content:f,mask:r.dialogShowMask,drag:r.dialogDraggable,lockScreen:r.dialogLockScreen,maskStyle:{opacity:r.dialogMaskOpacity,backgroundColor:r.dialogMaskBgColor},buttons:{enter:[l.buttons.enter,function(){var e=this.find("[data-name]").val(),t=this.find("[data-url]").val(),a=this.find("[data-url-id]").val(),l=this.find("[data-title]").val();return""===e?(alert(c.nameEmpty),!1):""===a?(alert(c.idEmpty),!1):"http://"===t||""===t?(alert(c.urlEmpty),!1):(i.replaceSelection("["+e+"]["+a+"]"),""===o&&i.setCursor(d.line,d.ch+1),l=""===l?"":' "'+l+'"',i.setValue(i.getValue()+"\n["+a+"]: "+t+l),this.hide().lockScreen(!1).hideMask(),!1)}],cancel:[l.buttons.cancel,function(){return this.hide().lockScreen(!1).hideMask(),!1}]}})}e=n.find("."+s),e.find("[data-name]").val("["+a+"]"),e.find("[data-url-id]").val(""),e.find("[data-url]").val("http://"),e.find("[data-title]").val(o),this.dialogShowMask(e),this.dialogLockScreen(),e.show(),a++}};"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?module.exports=e:"function"==typeof define?define.amd?define(["editormd"],function(t){e(t)}):define(function(t){var a=t("./../../editormd");e(a)}):e(window.editormd)})();